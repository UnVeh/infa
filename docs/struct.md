# Структурные модели ПО
## Внутренняя структура приложения
![Class diagram](https://github.com/UnVeh/reposit/blob/master/diagrams/class.png)
### Данная диаграмма классов представляет собой описание структуры и взаимодействия классов в приложении для рисования.

#### Она включает в себя следующие классы:

1. Класс "DrawingApp" представляет собой основной класс приложения. У него есть свойства:
   - "canvas" - объект класса "Canvas", представляющий холст, на котором рисуются фигуры.
   - "tools" - массив инструментов, доступных в приложении.
   - "activeTool" - активный инструмент, выбранный пользователем.
   - "color" - выбранный цвет для рисования.
   - "toolSize" - выбранный размер инструмента.
   - "undoManager" - объект класса "UndoManager", отвечающий за отмену действий.
   - "fileLoader" - объект класса "FileLoader", позволяющий загружать(открывать) файлы.
   - "fileSaver" - объект класса "FileSaver", позволяющий сохранять файлы.

   Класс "DrawingApp" имеет методы:
   - "fillCanvas" - заполняет весь холст выбранным цветом.
   - "selectTool" - устанавливает выбранный пользователем инструмент.
   - "setColor" - устанавливает выбранный пользователем цвет.
   - "setToolSize" - устанавливает выбранный пользователем размер инструмента.
   - "createShape" - создает фигуру определенного типа на холсте.
   - "moveFigure" - перемещает указанную фигуру на холсте.
   - "fillShape" - заполняет фигуру выбранным цветом.
   - "saveFile" - сохраняет текущее состояние холста в файл.
   - "openFile" - открывает файл и загружает его содержимое на холст.
   - "undoLastAction" - отменяет последнее действие пользователя.
   - "clearCanvas" - очищает холст от всех фигур и заполнений.

2. Класс "Canvas" представляет холст, на котором рисуются фигуры. У него есть свойства:
   - "figures" - массив объектов класса "Figure", представляющих нарисованные фигуры на холсте.
   - "fillAreas" - массив объектов класса "FillArea", представляющих залитые области на холсте.

   Класс "Canvas" имеет методы:
   - "addFigure" - добавляет фигуру на холст.
   - "removeFigure" - удаляет фигуру с холста.
   - "addFillArea" - заливка области.

3. Класс "FillArea" представляет залитую область на холсте. У него есть свойства:
   - "startX" - x-координата начала области.
   - "startY" - y-координата начала области.
   - "color" - цвет залитой области.

   Класс "FillArea" имеет методы:
   - "getStartX" - возвращает x-координату начала области.
   - "getStartY" - возвращает y-координату начала области.
   - "getColor" - возвращает цвет залитой области.
   - "setStartX" - устанавливает x-координату начала области.
   - "setStartY" - устанавливает y-координату начала области.
   - "setColor" - устанавливает цвет залитой области.

4. Класс "Tool" является абстрактным классом, представляющим инструмент для рисования. Он имеет три абстрактных метода:
   - "onMouseDown" - вызывается при нажатии кнопки мыши.
   - "onMouseMove" - вызывается при перемещении мыши.
   - "onMouseUp" - вызывается при отпускании кнопки мыши.

5. Класс "BrushTool" является конкретным инструментом "кисть". Он наследуется от класса "Tool" и реализует его абстрактные методы.

6. Класс "EraserTool" является конкретным инструментом "ластик". Он наследуется от класса "Tool" и реализует его абстрактные методы.

7. Класс "Figure" является абстрактным классом, представляющим фигуру на холсте. У него есть свойства:
   - "x" - x-координата фигуры.
   - "y" - y-координата фигуры.
   - "color" - цвет фигуры.

   Класс "Figure" имеет методы:
   - "getX" - возвращает x-координату фигуры.
   - "getY" - возвращает y-координату фигуры.
   - "getColor" - возвращает цвет фигуры.
   - "setPosition" - устанавливает координаты фигуры.
   - "setColor" - устанавливает цвет фигуры.

8. Классы "Triangle", "Circle" и "Rectangle" наследуются от класса "Figure" и представляют конкретные фигуры
 "треугольник", "круг" и "прямоугольник" соответственно. У каждого из этих классов есть дополнительные свойства и методы

9. Класс "UndoManager" представляет менеджер отмены действий. У него есть свойство "actions" - массив строк, хранящий список выполненных действий, которые можно отменить. Класс "UndoManager" имеет методы:
   - "addUndoAction" - добавляет действие в массив.
   - "undoLastAction" - отменяет последнее выполненное действие.

10. Класс "FileLoader" представляет загрузчик файлов. Он имеет метод "loadFile", который загружает содержимое файла.

11. Класс "FileSaver" представляет сохранитель файлов. Он имеет метод "saveFile", который сохраняет текущее состояние холста в файл.

В диаграмме присутствуют связи между классами:
   - Класс "Tool" связан с классом "DrawingApp" через методы "selectTool", "setToolSize"
   - Классы "FileLoader" и "FileSaver" связаны с классом "DrawingApp" через методы "openFile" и "saveFile".
   - Класс "UndoManager" связан с классом "DrawingApp" через метод "undoLastAction".
   - Классы "Tool" и "Canvas" имеют связь между собой, так как инструменты оперируют на холсте.
   - Классы "Tool" и "Figure" связаны связью наследования(используя инструмент, пользователь создает некую фигуру).
   - Класс "Canvas" имеет агрегационную связь с классом "Figure", так как хранит массив фигур, а также с классом    "FillArea", так как хранит массив залитых областей.
   - Классы Figure связан с классами "Triangle", "Circle", "Rectangle"

[Код](https://github.com/UnVeh/reposit/blob/master/diagrams/class.puml)

## Диаграмма компонентов

![Komp diagram](https://github.com/UnVeh/reposit/blob/master/diagrams/komp.png)

### Диаграмма представляет собой описание компонентов и их взаимосвязей в приложении для рисования.

1. Application: Этот класс представляет главное приложение для работы с холстом рисования. Он содержит различные свойства и методы, которые обеспечивают функциональность взаимодействия с пользователем и управление рисованием.
  - canvas: Это свойство представляет холст, на котором происходит рисование. Оно связано с классом Canvas.
  - selectedTool: Это свойство хранит выбранный инструмент для рисования, такой как линия, круг, прямоугольник или треугольник.
  - selectedColor: Это свойство хранит выбранный цвет для рисования, такой как красный, синий, зеленый и так далее.
  - selectedLineSize: Это свойство хранит выбранный размер линии.
  - shapes: Это свойство представляет список фигур, созданных на холсте.
  - Методы setTool, setColor и setLineSize позволяют установить соответствующие значения выбранного инструмента, цвета или размера линии.
  - createShape используется для создания новой фигуры на холсте по указанным координатам.
  - modifyShape используется для изменения выбранной фигуры на холсте.
  - fillShape используется для заполнения выбранной фигуры выбранным цветом.
  - fillCanvas заполняет весь холст выбранным цветом.
  - Методы saveImage и openImage используются для сохранения и открытия изображения на холсте.
  - clearCanvas очищает весь холст.
  - undo используется для отмены действий.

2. Tool:  представляет доступные инструменты для рисования, такие как линия, круг, прямоугольник и треугольник. Эти значения используются в классе Application для выбора текущего инструмента.

3. Color:  представляет доступные цвета для рисования, такие как красный, синий, зеленый и так далее. Эти значения используются в классе Application для выбора текущего цвета.

4. Shape: базовый класс для всех фигур, которые могут быть созданы на холсте. У него есть приватное свойство fillColor, которое хранит текущий цвет заполнения фигуры. Он также имеет открытый метод setFill, чтобы установить цвет заполнения фигуры.

5. LineShape, CircleShape, RectangleShape, TriangleShape: Каждый из этих классов представляет конкретный тип фигуры, такой как линия(кисти или ластика), круг, прямоугольник и треугольник. Они наследуются от базового класса Shape и содержат свои собственные методы для отрисовки, перемещения и изменения размера фигуры.

6. Canvas: Это класс, который представляет сам холст для рисования. Он содержит список фигур, созданных на холсте, и цвет, которым он заполняется.
  - shapes - свойство, где хранится список созданных фигур на холсте.
  - fillColor - свойство, содержащее цвет, которым заполняется холст.
  - Методы addShape и removeShape используются для добавления новой фигуры на холст и удаления существующей.
  - fillCanvas - метод для заполнения холста текущим цветом заполнения.
  - clearCanvas - метод для очистки холста от всех фигур и заполнения его белым цветом.
  - draw - метод, отвечающий за отрисовку холста и всех фигур на нем.

[Код](https://github.com/UnVeh/reposit/blob/master/diagrams/komp.puml)
